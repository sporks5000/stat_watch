#! /bin/bash

function fn_email_test {
### Given an email address, send a test message to that address.
### If a second argument is given, that will be included as part of the email message
	if [[ -z "$1" ]]; then
		echo "Please provide an email address to test sending messages to"
		exit
	fi
	v_EMAIL="$1"
	(  
		echo "This is a test message to confirm that mesages from server $(hostname) are reaching the address \"$v_EMAIL\"."
		echo
		echo "If you were not expecting this message, please ignore it as it was likely sent in error."
		if [[ -n "$2" ]]; then 
			echo
			echo "$2" 
		fi
	) | mail -s "Stat Watch - File changes on $(hostname)" $v_EMAIL
	echo "Test message sent to \"$v_EMAIL\""
}
